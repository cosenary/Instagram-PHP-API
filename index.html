<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Instagram PHP API by cosenary</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Instagram PHP API</h1>
        <p>An easy-to-use PHP Class for accessing Instagram's API.</p>

        <p class="view"><a href="https://github.com/cosenary/Instagram-PHP-API">View the Project on GitHub <small>cosenary/Instagram-PHP-API</small></a></p>


        <ul>
          <li><a href="https://github.com/cosenary/Instagram-PHP-API/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/cosenary/Instagram-PHP-API/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/cosenary/Instagram-PHP-API">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="-instagram-php-api-v2" class="anchor" href="#-instagram-php-api-v2"><span class="octicon octicon-link"></span></a><img src="https://raw.github.com/cosenary/Instagram-PHP-API/master/example/assets/instagram.png" alt="Image"> Instagram PHP API V2</h1>

<h2>
<a name="about" class="anchor" href="#about"><span class="octicon octicon-link"></span></a>About</h2>

<p>A PHP wrapper for the Instagram API.<br>
Feedback or bug reports are appreciated.</p>

<blockquote>
<p>Supports <a href="#instagram-videos">Instagram video</a> responses.</p>
</blockquote>

<h2>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>PHP 5.2.x or higher</li>
<li>cURL</li>
<li>Registered Instagram App</li>
</ul><h2>
<a name="get-started" class="anchor" href="#get-started"><span class="octicon octicon-link"></span></a>Get started</h2>

<p><a href="http://instagr.am/developer/register/">Register your application</a> with Instagram, and receive your OAuth <code>client_id</code> and <code>client_secret</code>.<br>
Take a look at the <a href="#samples-for-redirect-urls">uri guidlines</a> before registering a redirect URI.</p>

<blockquote>
<p>A good place to get started is the example App.</p>
</blockquote>

<h3>
<a name="initialize-the-class" class="anchor" href="#initialize-the-class"><span class="octicon octicon-link"></span></a>Initialize the class</h3>

<div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>
    <span class="k">require_once</span> <span class="s1">'instagram.class.php'</span><span class="p">;</span>

    <span class="nv">$instagram</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Instagram</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
      <span class="s1">'apiKey'</span>      <span class="o">=&gt;</span> <span class="s1">'YOUR_APP_KEY'</span><span class="p">,</span>
      <span class="s1">'apiSecret'</span>   <span class="o">=&gt;</span> <span class="s1">'YOUR_APP_SECRET'</span><span class="p">,</span>
      <span class="s1">'apiCallback'</span> <span class="o">=&gt;</span> <span class="s1">'YOUR_APP_CALLBACK'</span>
    <span class="p">));</span>

    <span class="k">echo</span> <span class="s2">"&lt;a href='</span><span class="si">{</span><span class="nv">$instagram</span><span class="o">-&gt;</span><span class="na">getLoginUrl</span><span class="p">()</span><span class="si">}</span><span class="s2">'&gt;Login with Instagram&lt;/a&gt;"</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<h3>
<a name="authenticate-user-oauth2" class="anchor" href="#authenticate-user-oauth2"><span class="octicon octicon-link"></span></a>Authenticate user (OAuth2)</h3>

<div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>
    <span class="c1">// Grab OAuth callback code</span>
    <span class="nv">$code</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">'code'</span><span class="p">];</span>
    <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$instagram</span><span class="o">-&gt;</span><span class="na">getOAuthToken</span><span class="p">(</span><span class="nv">$code</span><span class="p">);</span>

    <span class="k">echo</span> <span class="s1">'Your username is: '</span> <span class="o">.</span> <span class="nv">$data</span><span class="o">-&gt;</span><span class="na">user</span><span class="o">-&gt;</span><span class="na">username</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<h3>
<a name="get-user-likes" class="anchor" href="#get-user-likes"><span class="octicon octicon-link"></span></a>Get user likes</h3>

<div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>
    <span class="c1">// Store user access token</span>
    <span class="nv">$instagram</span><span class="o">-&gt;</span><span class="na">setAccessToken</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

    <span class="c1">// Get all user likes</span>
    <span class="nv">$likes</span> <span class="o">=</span> <span class="nv">$instagram</span><span class="o">-&gt;</span><span class="na">getUserLikes</span><span class="p">();</span>

    <span class="c1">// Take a look at the API response</span>
    <span class="k">echo</span> <span class="s1">'&lt;pre&gt;'</span><span class="p">;</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$likes</span><span class="p">);</span>
    <span class="k">echo</span> <span class="s1">'&lt;pre&gt;'</span><span class="p">;</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p><strong>All methods return the API data <code>json_decode()</code> - so you can directly access the data.</strong></p>

<h2>
<a name="available-methods" class="anchor" href="#available-methods"><span class="octicon octicon-link"></span></a>Available methods</h2>

<h3>
<a name="setup-instagram" class="anchor" href="#setup-instagram"><span class="octicon octicon-link"></span></a>Setup Instagram</h3>

<p><code>new Instagram(&lt;array&gt;/&lt;string&gt;);</code></p>

<p><code>array</code> if you want to authenticate a user and access its data:</p>

<div class="highlight highlight-php"><pre><span class="k">new</span> <span class="nx">Instagram</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'apiKey'</span>      <span class="o">=&gt;</span> <span class="s1">'YOUR_APP_KEY'</span><span class="p">,</span>
  <span class="s1">'apiSecret'</span>   <span class="o">=&gt;</span> <span class="s1">'YOUR_APP_SECRET'</span><span class="p">,</span>
  <span class="s1">'apiCallback'</span> <span class="o">=&gt;</span> <span class="s1">'YOUR_APP_CALLBACK'</span>
<span class="p">));</span>
</pre></div>

<p><code>string</code> if you <em>only</em> want to access public data:</p>

<div class="highlight highlight-php"><pre><span class="k">new</span> <span class="nx">Instagram</span><span class="p">(</span><span class="s1">'YOUR_APP_KEY'</span><span class="p">);</span>
</pre></div>

<h3>
<a name="get-login-url" class="anchor" href="#get-login-url"><span class="octicon octicon-link"></span></a>Get login URL</h3>

<p><code>getLoginUrl(&lt;array&gt;)</code></p>

<div class="highlight highlight-php"><pre><span class="nx">getLoginUrl</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
  <span class="s1">'basic'</span><span class="p">,</span>
  <span class="s1">'likes'</span>
<span class="p">));</span>
</pre></div>

<p><strong>Optional scope parameters:</strong></p>

<table>
<tr>
<th>Scope</th>
    <th>Legend</th>
    <th>Methods</th>
  </tr>
<tr>
<td><code>basic</code></td>
    <td>to use all user related methods [default]</td>
    <td>
<code>getUser()</code>, <code>getUserFeed()</code>, <code>getUserFollower()</code> etc.</td>
  </tr>
<tr>
<td><code>relationships</code></td>
    <td>to follow and unfollow users</td>
    <td><code>modifyRelationship()</code></td>
  </tr>
<tr>
<td><code>likes</code></td>
    <td>to like and unlike items</td>
    <td>
<code>getMediaLikes()</code>, <code>likeMedia()</code>, <code>deleteLikedMedia()</code>
</td>
  </tr>
<tr>
<td><code>comments</code></td>
    <td>to create or delete comments</td>
    <td>
<code>getMediaComments()</code>, <code>addMediaComment()</code>, <code>deleteMediaComment()</code>
</td>
  </tr>
</table><h3>
<a name="get-oauth-token" class="anchor" href="#get-oauth-token"><span class="octicon octicon-link"></span></a>Get OAuth token</h3>

<p><code>getOAuthToken($code, &lt;true&gt;/&lt;false&gt;)</code></p>

<p><code>true</code> : Returns only the OAuth token<br><code>false</code> <em>[default]</em> : Returns OAuth token and profile data of the authenticated user</p>

<h3>
<a name="set--get-access-token" class="anchor" href="#set--get-access-token"><span class="octicon octicon-link"></span></a>Set / Get access token</h3>

<p>Stores access token, for further method calls:<br><code>setAccessToken($token)</code></p>

<p>Returns access token, if you want to store it for later usage:<br><code>getAccessToken()</code></p>

<h3>
<a name="user-methods" class="anchor" href="#user-methods"><span class="octicon octicon-link"></span></a>User methods</h3>

<p><strong>Public methods</strong></p>

<ul>
<li><code>getUser($id)</code></li>
<li><code>searchUser($name, &lt;$limit&gt;)</code></li>
</ul><p><strong>Authenticated methods</strong></p>

<ul>
<li><code>getUser()</code></li>
<li><code>getUserLikes(&lt;$limit&gt;)</code></li>
<li><code>getUserFeed(&lt;$limit&gt;)</code></li>
<li>
<code>getUserMedia(&lt;$id&gt;, &lt;$limit&gt;)</code>

<ul>
<li>if an <code>$id</code> isn't defined, it returns the media of the logged in user</li>
</ul>
</li>
</ul><blockquote>
<p><a href="http://instagram.com/developer/endpoints/users/">Sample responses of the User Endpoints.</a></p>
</blockquote>

<h3>
<a name="relationship-methods" class="anchor" href="#relationship-methods"><span class="octicon octicon-link"></span></a>Relationship methods</h3>

<p><strong>Authenticated methods</strong></p>

<ul>
<li><code>getUserFollows(&lt;$id&gt;, &lt;$limit&gt;)</code></li>
<li><code>getUserFollower(&lt;$id&gt;, &lt;$limit&gt;)</code></li>
<li><code>getUserRelationship($id)</code></li>
<li>
<code>modifyRelationship($action, $user)</code>

<ul>
<li>
<code>$action</code> : Action command (follow / unfollow / block / unblock / approve / deny)</li>
<li>
<code>$user</code> : Target user id</li>
</ul>
</li>
</ul><div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>
    <span class="c1">// Follow the user with the ID 1574083</span>
    <span class="nv">$instagram</span><span class="o">-&gt;</span><span class="na">modifyRelationship</span><span class="p">(</span><span class="s1">'follow'</span><span class="p">,</span> <span class="mi">1574083</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<hr><p>Please note that the <code>modifyRelationship()</code> method requires the <code>relationships</code> <a href="#get-login-url">scope</a>.</p>

<hr><blockquote>
<p><a href="http://instagram.com/developer/endpoints/relationships/">Sample responses of the Relationship Endpoints.</a></p>
</blockquote>

<h3>
<a name="media-methods" class="anchor" href="#media-methods"><span class="octicon octicon-link"></span></a>Media methods</h3>

<p><strong>Public methods</strong></p>

<ul>
<li><code>getMedia($id)</code></li>
<li><code>getPopularMedia()</code></li>
<li>
<code>searchMedia($lat, $lng, &lt;$distance&gt;)</code>

<ul>
<li>
<code>$lat</code> and <code>$lng</code> are coordinates and have to be floats like: <code>48.145441892290336</code>,<code>11.568603515625</code>
</li>
<li>
<code>$distance</code> Radial distance in meter (max. distance: 5km = 5000)</li>
</ul>
</li>
</ul><p>All <code>&lt;$limit&gt;</code> parameters are optional. If the limit is undefined, all available results will be returned.</p>

<blockquote>
<p><a href="http://instagram.com/developer/endpoints/media/">Sample responses of the Media Endpoints.</a></p>
</blockquote>

<h3>
<a name="comment-methods" class="anchor" href="#comment-methods"><span class="octicon octicon-link"></span></a>Comment methods</h3>

<p><strong>Public methods</strong></p>

<ul>
<li><code>getMediaComments($id)</code></li>
</ul><p><strong>Authenticated methods</strong></p>

<ul>
<li>
<code>addMediaComment($id, $text)</code>

<ul>
<li>
<strong>restricted access:</strong> please email <code>apidevelopers[at]instagram.com</code> for access</li>
</ul>
</li>
<li>
<code>deleteMediaComment($id, $commentID)</code>

<ul>
<li>the comment must be authored by the authenticated user</li>
</ul>
</li>
</ul><hr><p>Please note that the authenticated methods require the <code>comments</code> <a href="#get-login-url">scope</a>.</p>

<hr><blockquote>
<p><a href="http://instagram.com/developer/endpoints/comments/">Sample responses of the Comment Endpoints.</a></p>
</blockquote>

<h3>
<a name="tag-methods" class="anchor" href="#tag-methods"><span class="octicon octicon-link"></span></a>Tag methods</h3>

<p><strong>Public methods</strong></p>

<ul>
<li><code>getTag($name)</code></li>
<li><code>getTagMedia($name)</code></li>
<li><code>searchTags($name)</code></li>
</ul><blockquote>
<p><a href="http://instagram.com/developer/endpoints/tags/">Sample responses of the Tag Endpoints.</a></p>
</blockquote>

<h3>
<a name="likes-methods" class="anchor" href="#likes-methods"><span class="octicon octicon-link"></span></a>Likes methods</h3>

<p><strong>Authenticated methods</strong></p>

<ul>
<li><code>getMediaLikes($id)</code></li>
<li><code>likeMedia($id)</code></li>
<li><code>deleteLikedMedia($id)</code></li>
</ul><blockquote>
<p>How to like a Media: <a href="https://gist.github.com/3287237">Example usage</a><br><a href="http://instagram.com/developer/endpoints/likes/">Sample responses of the Likes Endpoints.</a></p>
</blockquote>

<h2>
<a name="instagram-videos" class="anchor" href="#instagram-videos"><span class="octicon octicon-link"></span></a>Instagram videos</h2>

<p>Instagram entries are marked with a <code>type</code> attribute (<code>image</code> or <code>video</code>), that allows you to identify videos.</p>

<p>An example of how to embed Instagram videos by using <a href="http://www.videojs.com">Video.js</a>, can be found in the <code>/example</code> folder.  </p>

<hr><p><strong>Please note:</strong> Instagram currently doesn't allow to filter videos.</p>

<hr><h2>
<a name="pagination" class="anchor" href="#pagination"><span class="octicon octicon-link"></span></a>Pagination</h2>

<p>Each endpoint has a maximum range of results, so increasing the <code>limit</code> parameter above the limit won't help (e.g. <code>getUserMedia()</code> has a limit of 90).</p>

<p>That's the point where the "pagination" feature comes into play.<br>
Simply pass an object into the <code>pagination()</code> method and receive your next dataset:</p>

<div class="highlight highlight-php"><pre><span class="o">&lt;?</span><span class="nx">php</span>
    <span class="nv">$photos</span> <span class="o">=</span> <span class="nv">$instagram</span><span class="o">-&gt;</span><span class="na">getTagMedia</span><span class="p">(</span><span class="s1">'kitten'</span><span class="p">);</span>

    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$instagram</span><span class="o">-&gt;</span><span class="na">pagination</span><span class="p">(</span><span class="nv">$photos</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</pre></div>

<p>Iteration with <code>do-while</code> loop.</p>

<h2>
<a name="samples-for-redirect-urls" class="anchor" href="#samples-for-redirect-urls"><span class="octicon octicon-link"></span></a>Samples for redirect URLs</h2>

<table>
<tr>
<th>Registered Redirect URI</th>
    <th>Redirect URI sent to /authorize</th>
    <th>Valid?</th>
  </tr>
<tr>
<td>http://yourcallback.com/</td>
    <td>http://yourcallback.com/</td>
    <td>yes</td>
  </tr>
<tr>
<td>http://yourcallback.com/</td>
    <td>http://yourcallback.com/?this=that</td>
    <td>yes</td>
  </tr>
<tr>
<td>http://yourcallback.com/?this=that</td>
    <td>http://yourcallback.com/</td>
    <td>no</td>
  </tr>
<tr>
<td>http://yourcallback.com/?this=that</td>
    <td>http://yourcallback.com/?this=that&amp;another=true</td>
    <td>yes</td>
  </tr>
<tr>
<td>http://yourcallback.com/?this=that</td>
    <td>http://yourcallback.com/?another=true&amp;this=that</td>
    <td>no</td>
  </tr>
<tr>
<td>http://yourcallback.com/callback</td>
    <td>http://yourcallback.com/</td>
    <td>no</td>
  </tr>
<tr>
<td>http://yourcallback.com/callback</td>
    <td>http://yourcallback.com/callback/?type=mobile</td>
    <td>yes</td>
  </tr>
</table><blockquote>
<p>If you need further information about an endpoint, take a look at the <a href="http://instagram.com/developer/authentication/">Instagram API docs</a>.</p>
</blockquote>

<h2>
<a name="example-app" class="anchor" href="#example-app"><span class="octicon octicon-link"></span></a>Example App</h2>

<p><img src="http://cl.ly/image/221T1g3w3u2J/preview.png" alt="Image"></p>

<p>This example project, located in the <code>example/</code> folder, helps you to get started.<br>
The code is well documented and takes you through all required steps of the OAuth2 process.<br>
Credit for the awesome Instagram icons goes to <a href="http://dribbble.com/RZDESIGN">Ricardo de Zoete Pro</a>.</p>

<h4>
<a name="more-examples-and-tutorials" class="anchor" href="#more-examples-and-tutorials"><span class="octicon octicon-link"></span></a>More examples and tutorials:</h4>

<ul>
<li><a href="https://gist.github.com/cosenary/3287237">User likes</a></li>
<li><a href="https://gist.github.com/cosenary/8322459">Follow user</a></li>
<li><a href="https://gist.github.com/cosenary/7267139">User follower</a></li>
<li><a href="https://gist.github.com/cosenary/2975779">Load more button</a></li>
<li><a href="https://gist.github.com/cosenary/1711218">User most recent media</a></li>
<li><a href="http://www.9lessons.info/2012/05/login-with-instagram-php.html">Instagram login (by 9lessons)</a></li>
</ul><blockquote>
<p>Let me know if you have to share a code example, too.</p>
</blockquote>

<h2>
<a name="history" class="anchor" href="#history"><span class="octicon octicon-link"></span></a>History</h2>

<p><strong>Instagram 2.0 - 24/12/2013</strong></p>

<ul>
<li>
<code>release</code> version 2.0</li>
</ul><p><strong>Instagram 2.0 beta - 20/11/2013</strong></p>

<ul>
<li>
<code>feature</code> Added <em>Locations</em> endpoint</li>
<li>
<code>update</code> Updated example project to display Instagram videos</li>
</ul><p><strong>Instagram 2.0 alpha 4 - 01/11/2013</strong></p>

<ul>
<li>
<code>feature</code> Comment endpoint implemented</li>
<li>
<code>feature</code> New example with a fancy GUI</li>
<li>
<code>update</code> Improved documentation</li>
</ul><p><strong>Instagram 2.0 alpha 3 - 04/09/2013</strong></p>

<ul>
<li>
<code>merge</code> Merged master branch updates

<ul>
<li>
<code>update</code> Updated documentation</li>
<li>
<code>bug</code> / <code>change</code> cURL CURLOPT_SSL_VERIFYPEER disabled (fixes #6, #7, #8, #16)</li>
<li>
<code>feature</code> Added cURL error message</li>
<li>
<code>feature</code> Added <code>limit</code> to <code>getTagMedia()</code> method</li>
</ul>
</li>
</ul><p><strong>Instagram 2.0 alpha 2 - 14/06/2013</strong></p>

<ul>
<li>
<code>feature</code> Improved Pagination functionality</li>
<li>
<code>change</code> Added <code>distance</code> parameter to <code>searchMedia()</code> method (thanks <a href="https://github.com/jonathanwkelly" class="user-mention">@jonathanwkelly</a>)</li>
</ul><p><strong>Instagram 2.0 alpha 1 - 28/05/2012</strong></p>

<ul>
<li>
<code>feature</code> Added Pagination method</li>
<li>
<code>feature</code> Added User Relationship endpoints</li>
<li>
<code>feature</code> Added scope parameter table for the <code>getLoginUrl()</code> method</li>
</ul><p><strong>Instagram 1.5 - 31/01/2012</strong></p>

<ul>
<li>
<code>release</code> Second master version</li>
<li>
<code>feature</code> Added Tag endpoints</li>
<li>
<code>change</code> Edited the "Get started" example</li>
<li>
<code>change</code> Now you can pass the <code>getOAuthToken()</code> object directly into <code>setAccessToken()</code>
</li>
</ul><p><strong>Instagram 1.0 - 20/11/2011</strong></p>

<ul>
<li>
<code>release</code> First public release</li>
<li>
<code>feature</code> Added sample App with documented code</li>
<li>
<code>update</code> New detailed documentation</li>
</ul><p><strong>Instagram 0.8 - 16/11/2011</strong></p>

<ul>
<li>
<code>release</code> First inital released version</li>
<li>
<code>feature</code> Initialize the class with a config array or string (see example)</li>
</ul><p><strong>Instagram 0.5 - 12/11/2011</strong></p>

<ul>
<li>
<code>release</code> Beta version</li>
<li>
<code>update</code> Small documentation</li>
</ul><h2>
<a name="credits" class="anchor" href="#credits"><span class="octicon octicon-link"></span></a>Credits</h2>

<p>Copyright (c) 2011-2014 - Programmed by Christian Metz<br>
Released under the <a href="http://www.opensource.org/licenses/bsd-license.php">BSD License</a>.</p>

<p><a href="https://bitdeli.com/free" title="Bitdeli Badge"><img src="https://d2weczhvl823v0.cloudfront.net/cosenary/instagram-php-api/trend.png" alt="Bitdeli Badge"></a></p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/cosenary">cosenary</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>